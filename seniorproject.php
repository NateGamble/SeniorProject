<?php

// Uncomment the lines containing define() and requre __DIR__ immediately below to restore wordpress version of site


/**
 * Front to the WordPress application. This file doesn't do anything, but loads
 * wp-blog-header.php which does and tells WordPress to load the theme.
 *
 * @package WordPress
 */

/**
 * Tells WordPress to load the WordPress theme and output it.
 *
 * @var bool
 */
// define( 'WP_USE_THEMES', true );

/** Loads the WordPress Environment and Template */
// require __DIR__ . '/wp-blog-header.php';
?>

<script>
    // function reqListener () {
    //   console.log(this.responseText);
    // }

    // var oReq = new XMLHttpRequest(); // New request object
    // oReq.onload = function() {
    //     // This is where you handle what to do with the response.
    //     // The actual data is found on this.responseText
    //     alert(this.responseText); // Will alert: 42
    // };
    // oReq.onreadystatechange = function () { 
    //     if ((oReq.readyState === 4) && (oReq.status === 200)) { 
    //         // Print received data from server 
    //         console.log(this.responseText);
    //     } 
    // };
    // oReq.open("post", "get-data.php", true);
    // // Set the request header i.e. which type of content you are sending 
    // oReq.setRequestHeader("Content-Type", "string"); 
    // // Converting JSON data to string
    // var data = "SELECT Payee, OfficeName FROM Expense";
    // oReq.send(data);
    // oReq.open("get", "get-data.php", true);
    //                               ^ Don't block the rest of the execution.
    //                                 Don't wait until the request finishes to
    //                                 continue.
    // oReq.send();
</script>

<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="profile" href="http://gmpg.org/xfn/11">
        <link rel="pingback" href="http://www.emiofficemetric.work/xmlrpc.php">
        <title>EMI Office Metrics</title>
        <link rel='dns-prefetch' href='//fonts.googleapis.com' />
        <link rel='dns-prefetch' href='//s.w.org' />
        <link rel="alternate" type="application/rss+xml" title="EMI Office Metrics &raquo; Feed" href="http://www.emiofficemetric.work/feed/" />
        <link rel="alternate" type="application/rss+xml" title="EMI Office Metrics &raquo; Comments Feed" href="http://www.emiofficemetric.work/comments/feed/" />
        <script type="text/javascript">
            window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.emiofficemetric.work\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.4.1"}};
            /*! This file is auto-generated */
            !function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
        </script>
        <style type="text/css">
            img.wp-smiley,
            img.emoji {
            display: inline !important;
            border: none !important;
            box-shadow: none !important;
            height: 1em !important;
            width: 1em !important;
            margin: 0 .07em !important;
            vertical-align: -0.1em !important;
            background: none !important;
            padding: 0 !important;
            }
        </style>
        <link rel='stylesheet' id='dashicons-css'  href='http://www.emiofficemetric.work/wp-includes/css/dashicons.min.css?ver=5.4.1' type='text/css' media='all' />
        <link rel='stylesheet' id='admin-bar-css'  href='http://www.emiofficemetric.work/wp-includes/css/admin-bar.min.css?ver=5.4.1' type='text/css' media='all' />
        <link rel='stylesheet' id='adminiconstyle-css'  href='http://www.emiofficemetric.work/wp-content/plugins/boldgrid-inspirations/assets/css/adminiconstyle.css?ver=2.3.1' type='text/css' media='all' />
        <link rel='stylesheet' id='wp-block-library-css'  href='http://www.emiofficemetric.work/wp-includes/css/dist/block-library/style.min.css?ver=5.4.1' type='text/css' media='all' />
        <link rel='stylesheet' id='wp-block-library-theme-css'  href='http://www.emiofficemetric.work/wp-includes/css/dist/block-library/theme.min.css?ver=5.4.1' type='text/css' media='all' />
        <link rel='stylesheet' id='wc-gallery-style-css'  href='http://www.emiofficemetric.work/wp-content/plugins/boldgrid-gallery/includes/css/style.css?ver=1.55' type='text/css' media='all' />
        <link rel='stylesheet' id='wc-gallery-popup-style-css'  href='http://www.emiofficemetric.work/wp-content/plugins/boldgrid-gallery/includes/css/magnific-popup.css?ver=1.1.0' type='text/css' media='all' />
        <link rel='stylesheet' id='wc-gallery-flexslider-style-css'  href='http://www.emiofficemetric.work/wp-content/plugins/boldgrid-gallery/includes/vendors/flexslider/flexslider.css?ver=2.6.1' type='text/css' media='all' />
        <link rel='stylesheet' id='wc-gallery-owlcarousel-style-css'  href='http://www.emiofficemetric.work/wp-content/plugins/boldgrid-gallery/includes/vendors/owlcarousel/assets/owl.carousel.css?ver=2.1.4' type='text/css' media='all' />
        <link rel='stylesheet' id='wc-gallery-owlcarousel-theme-style-css'  href='http://www.emiofficemetric.work/wp-content/plugins/boldgrid-gallery/includes/vendors/owlcarousel/assets/owl.theme.default.css?ver=2.1.4' type='text/css' media='all' />
        <link rel='stylesheet' id='bglib-admin-icon-css'  href='http://www.emiofficemetric.work/wp-content/plugins/boldgrid-inspirations/vendor/boldgrid/library/src/assets/css/admin-icon.css?ver=5.4.1' type='text/css' media='all' />
        <link rel='stylesheet' id='ascension-css'  href='http://www.emiofficemetric.work/wp-content/themes/ascension/style.css?ver=1.1.5' type='text/css' media='all' />
        <style id='ascension-inline-css' type='text/css'>
            .site-title a,.site-title a:visited{color:#194f6e;}.site-title a:hover,.site-title a:visited:hover{color:rgba(25, 79, 110, 0.8);}
            .site-description{color:#686868;}
            .hero,.hero .widget h1,.hero .widget h2,.hero .widget h3,.hero .widget h4,.hero .widget h5,.hero .widget h6,.hero .widget p,.hero .widget blockquote,.hero .widget cite,.hero .widget table,.hero .widget ul,.hero .widget ol,.hero .widget li,.hero .widget dd,.hero .widget dt,.hero .widget address,.hero .widget code,.hero .widget pre,.hero .widget .widget-title,.hero .page-header h1{color:#ffffff;}
            .main-navigation ul li a,.main-navigation ul li a:visited,.main-navigation ul li a:hover,.main-navigation ul li a:focus,.main-navigation ul li a:visited:hover{color:#194f6e;}.main-navigation .sub-menu .menu-item-has-children > a::after{border-right-color:#194f6e;border-left-color:#194f6e;}.menu-toggle div{background-color:#194f6e;}.main-navigation ul li a:hover,.main-navigation ul li a:focus{color:rgba(25, 79, 110, 0.8);}
            h1,h2,h3,h4,h5,h6,label,legend,table th,dl dt,.entry-title,.entry-title a,.entry-title a:visited,.widget-title{color:#353535;}.entry-title a:hover,.entry-title a:visited:hover,.entry-title a:focus,.entry-title a:visited:focus,.entry-title a:active,.entry-title a:visited:active{color:rgba(53, 53, 53, 0.8);}
            body,input,select,textarea,input[type="text"]:focus,input[type="email"]:focus,input[type="url"]:focus,input[type="password"]:focus,input[type="search"]:focus,input[type="number"]:focus,input[type="tel"]:focus,input[type="range"]:focus,input[type="date"]:focus,input[type="month"]:focus,input[type="week"]:focus,input[type="time"]:focus,input[type="datetime"]:focus,input[type="datetime-local"]:focus,input[type="color"]:focus,textarea:focus,.navigation.pagination .paging-nav-text{color:#252525;}hr{background-color:rgba(37, 37, 37, 0.1);border-color:rgba(37, 37, 37, 0.1);}input[type="text"],input[type="email"],input[type="url"],input[type="password"],input[type="search"],input[type="number"],input[type="tel"],input[type="range"],input[type="date"],input[type="month"],input[type="week"],input[type="time"],input[type="datetime"],input[type="datetime-local"],input[type="color"],textarea,.select2-container .select2-choice{color:rgba(37, 37, 37, 0.5);border-color:rgba(37, 37, 37, 0.1);}select,fieldset,blockquote,pre,code,abbr,acronym,.hentry table th,.hentry table td{border-color:rgba(37, 37, 37, 0.1);}.hentry table tr:hover td{background-color:rgba(37, 37, 37, 0.05);}
            blockquote,.entry-meta,.entry-footer,.comment-meta .says,.logged-in-as,.wp-block-coblocks-author__heading{color:#686868;}
            .site-footer .widget-title,.site-footer h1,.site-footer h2,.site-footer h3,.site-footer h4,.site-footer h5,.site-footer h6{color:#353535;}
            .site-footer .widget,.site-footer .widget form label{color:#252525;}
            .footer-menu ul li a,.footer-menu ul li a:visited{color:#686868;}.site-info-wrapper .social-menu a{background-color:#686868;}.footer-menu ul li a:hover,.footer-menu ul li a:visited:hover{color:rgba(104, 104, 104, 0.8);}
            .site-info-wrapper .site-info-text{color:#686868;}
            a,a:visited,.entry-title a:hover,.entry-title a:visited:hover{color:#00bfff;}.navigation.pagination .nav-links .page-numbers.current,.social-menu a:hover{background-color:#00bfff;}a:hover,a:visited:hover,a:focus,a:visited:focus,a:active,a:visited:active{color:rgba(0, 191, 255, 0.8);}.comment-list li.bypostauthor{border-color:rgba(0, 191, 255, 0.2);}
            button,a.button,a.button:visited,input[type="button"],input[type="reset"],input[type="submit"],.wp-block-button__link,.site-info-wrapper .social-menu a:hover{background-color:#00bfff;border-color:#00bfff;}button:hover,button:active,button:focus,a.button:hover,a.button:active,a.button:focus,a.button:visited:hover,a.button:visited:active,a.button:visited:focus,input[type="button"]:hover,input[type="button"]:active,input[type="button"]:focus,input[type="reset"]:hover,input[type="reset"]:active,input[type="reset"]:focus,input[type="submit"]:hover,input[type="submit"]:active,input[type="submit"]:focus{background-color:rgba(0, 191, 255, 0.8);border-color:rgba(0, 191, 255, 0.8);}
            button,button:hover,button:active,button:focus,a.button,a.button:hover,a.button:active,a.button:focus,a.button:visited,a.button:visited:hover,a.button:visited:active,a.button:visited:focus,input[type="button"],input[type="button"]:hover,input[type="button"]:active,input[type="button"]:focus,input[type="reset"],input[type="reset"]:hover,input[type="reset"]:active,input[type="reset"]:focus,input[type="submit"],input[type="submit"]:hover,input[type="submit"]:active,input[type="submit"]:focus,.wp-block-button__link{color:#ffffff;}
            body{background-color:#ffffff;}.navigation.pagination .nav-links .page-numbers.current{color:#ffffff;}
            .hero{background-color:#252525;}.hero{-webkit-box-shadow:inset 0 0 0 9999em;-moz-box-shadow:inset 0 0 0 9999em;box-shadow:inset 0 0 0 9999em;color:rgba(37, 37, 37, 0.50);}
            .main-navigation-container,.main-navigation.open,.main-navigation ul ul,.main-navigation .sub-menu{background-color:#ffffff;}.site-header{background-color:#ffffff;}
            .site-footer{background-color:#f5f5f5;}
            .site-info-wrapper{background-color:#ffffff;}.site-info-wrapper .social-menu a,.site-info-wrapper .social-menu a:visited,.site-info-wrapper .social-menu a:hover,.site-info-wrapper .social-menu a:visited:hover{color:#ffffff;}
            .has-primary-color{color:#03263B;}.has-primary-background-color{background-color:#03263B;}
            .has-secondary-color{color:#0b3954;}.has-secondary-background-color{background-color:#0b3954;}
            .has-tertiary-color{color:#bddae6;}.has-tertiary-background-color{background-color:#bddae6;}
            .has-quaternary-color{color:#ff6663;}.has-quaternary-background-color{background-color:#ff6663;}
            .has-quinary-color{color:#ffffff;}.has-quinary-background-color{background-color:#ffffff;}
        </style>
        <link rel='stylesheet' id='popup-maker-site-css'  href='//www.emiofficemetric.work/wp-content/uploads/pum/pum-site-styles.css?generated=1589283091&#038;ver=1.9.2' type='text/css' media='all' />
        <link rel='stylesheet' id='ascension-fonts-css'  href='https://fonts.googleapis.com/css?family=Open+Sans%3A300%2C400%2C700&#038;subset=latin&#038;ver=1.8.8' type='text/css' media='all' />
        <style id='ascension-fonts-inline-css' type='text/css'>
            .site-title{font-family:"Open Sans", sans-serif;}
            .main-navigation ul li a,.main-navigation ul li a:visited,button,a.button,a.fl-button,input[type="button"],input[type="reset"],input[type="submit"]{font-family:"Open Sans", sans-serif;}
            h1,h2,h3,h4,h5,h6,label,legend,table th,dl dt,.entry-title,.widget-title{font-family:"Open Sans", sans-serif;}
            body,p,ol li,ul li,dl dd,.fl-callout-text{font-family:"Open Sans", sans-serif;}
            blockquote,.entry-meta,.entry-footer,.comment-list li .comment-meta .says,.comment-list li .comment-metadata,.comment-reply-link,#respond .logged-in-as{font-family:"Open Sans", sans-serif;}
        </style>
        <link rel='stylesheet' id='animatecss-css'  href='http://www.emiofficemetric.work/wp-content/plugins/post-and-page-builder/assets/css/animate.min.css?ver=1.13.0' type='text/css' media='all' />
        <link rel='stylesheet' id='boldgrid-components-css'  href='http://www.emiofficemetric.work/wp-content/plugins/post-and-page-builder/assets/css/components.min.css?ver=2.16.2' type='text/css' media='all' />
        <link rel='stylesheet' id='font-awesome-css'  href='http://www.emiofficemetric.work/wp-content/plugins/post-and-page-builder/assets/css/font-awesome.min.css?ver=4.7' type='text/css' media='all' />
        <link rel='stylesheet' id='boldgrid-fe-css'  href='http://www.emiofficemetric.work/wp-content/plugins/post-and-page-builder/assets/css/editor-fe.min.css?ver=1.13.0' type='text/css' media='all' />
        <link rel='stylesheet' id='boldgrid-custom-styles-css'  href='http://www.emiofficemetric.work/wp-content/plugins/post-and-page-builder/assets/css/custom-styles.css?ver=5.4.1' type='text/css' media='all' />
        <link rel='stylesheet' id='bgpbpp-public-css'  href='http://www.emiofficemetric.work/wp-content/plugins/post-and-page-builder-premium/dist/application.min.css?ver=1.0.4' type='text/css' media='all' />
        <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/jquery/jquery.js?ver=1.12.4-wp'></script>
        <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
        <link rel='https://api.w.org/' href='http://www.emiofficemetric.work/wp-json/' />
        <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.emiofficemetric.work/xmlrpc.php?rsd" />
        <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.emiofficemetric.work/wp-includes/wlwmanifest.xml" />
        <meta name="generator" content="WordPress 5.4.1" />
        <link rel="canonical" href="http://www.emiofficemetric.work/" />
        <link rel='shortlink' href='http://www.emiofficemetric.work/' />
        <link rel="alternate" type="application/json+oembed" href="http://www.emiofficemetric.work/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.emiofficemetric.work%2F" />
        <link rel="alternate" type="text/xml+oembed" href="http://www.emiofficemetric.work/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.emiofficemetric.work%2F&#038;format=xml" />
        <style type='text/css'>
            .site-title a,.site-title a:visited{color:194f6e;}
        </style>
        <style type="text/css" media="print">#wpadminbar { display:none; }</style>
        <style type="text/css" media="screen">
            html { margin-top: 32px !important; }
            * html body { margin-top: 32px !important; }
            @media screen and ( max-width: 782px ) {
            html { margin-top: 46px !important; }
            * html body { margin-top: 46px !important; }
            }
        </style>
    </head>
    <body class="home page-template page-template-template page-template-page page-template-fullwidth page-template-templatepagefullwidth-php page page-id-11 logged-in admin-bar no-customize-support boldgrid-ppb layout-one-column-wide boldgrid-editor-template">
        <div id="page" class="hfeed site">
            <a class="skip-link screen-reader-text" href="#content">Skip to content</a>
            <header id="masthead" class="site-header" role="banner">
                <div class="site-header-wrapper">
                    <div class="site-title-wrapper">
                        <div class="site-title"><a href="http://www.emiofficemetric.work/" rel="home">EMI Office Metrics</a></div>
                    </div>
                    <!-- .site-title-wrapper -->
                    <div class="main-navigation-container">
                        <div class="menu-toggle" id="menu-toggle" role="button" tabindex="0"
                            >
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <!-- #menu-toggle -->
                        <nav id="site-navigation" class="main-navigation">
                            <div class="menu-primary-container">
                                <ul id="menu-primary" class="menu">
                                    <li id="menu-item-12" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home current-menu-item page_item page-item-11 current_page_item menu-item-12"><a href="http://www.emiofficemetric.work/" aria-current="page">Home</a></li>
                                </ul>
                            </div>
                        </nav>
                        <!-- #site-navigation -->
                    </div>
                </div>
                <!-- .site-header-wrapper -->
            </header>
            <!-- #masthead -->
            <div id="content" class="site-content">
                <!-- Main HTML start-->
                <main class="main bg-custom-template "
                    role="main">
                    <div class="bge-content-main">
                        <article id="post-11" class="bg-page-article post-11 page type-page status-publish post-password-protected hentry">
                            <div class="bge-entry-content">
                                <div class="boldgrid-section">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-md-12 col-xs-12 col-sm-12">
                                                <input class="w3-button w3-black" type="button" value="Uploads"><br />
                                                <!--Source for this chart snippet is: https://blazingspider.com/wp-demo/187/chart-js-time-scale-sample/-->
                                                <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
                                                <style>
                                                    canvas {
                                                    -moz-user-select: none;
                                                    -webkit-user-select: none;
                                                    -ms-user-select: none;
                                                    }
                                                </style>
                                                <div style="width:75%;">
                                                    <canvas id="canvas"></canvas>
                                                </div>
                                                <br>
                                                <br>
                                                <!-- Could add buttons here -->
                                                <script>
                                                var sqlData = "";
                                                    window.onload = function() {
                                                        function reqListener () {
                                                        console.log(this.responseText);
                                                        }

                                                        function parseMonth(day) {
                                                            if(String(day).substring(5,7) == '01') { 
                                                                return "January-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '02') { 
                                                                return "February-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '03') { 
                                                                return "March-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '04') { 
                                                                return "April-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '05') { 
                                                                return "May-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '06') { 
                                                                return "June-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '07') { 
                                                                return "July-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '08') { 
                                                                return "August-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '09') { 
                                                                return "September-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '10') { 
                                                                return "October-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '11') { 
                                                                return "November-" + String(day).substring(2,4);
                                                            }
                                                            if(String(day).substring(5,7) == '12') { 
                                                                return "December-" + String(day).substring(2,4);
                                                            }
                                                        }

                                                        function arrangeData(data, monthLabels, category) {
                                                            var returnData = [];
                                                            for(var month in monthLabels) {
                                                                for(var item in data) {
                                                                    if(parseMonth(data[item]["Month"]) == monthLabels[month]) {
                                                                        returnData.push(data[item][category]);
                                                                        console.log(monthLabels[month] + " is the month in arranging data")
                                                                    }
                                                                }
                                                            }
                                                            console.log("arranged data: ");
                                                            console.log(returnData);
                                                            return returnData;
                                                        }

                                                        var oReq = new XMLHttpRequest(); // New request object
                                                        oReq.open("post", "get-data.php", true);
                                                        // Set the request header i.e. which type of content you are sending 
                                                        oReq.setRequestHeader("Content-Type", "string"); 
                                                        // Send SQL request to php code
                                                        // Will be changed with buttons in future implementations
                                                        var data = "SELECT OfficeName, Month, ProjectHours, ProjectIncome, TransferIncome FROM MonthOffice";
                                                        oReq.send(data);
                                                        
                                                        oReq.onreadystatechange = function () { 
                                                            if ((oReq.readyState === 4) && (oReq.status === 200)) { 
                                                                // Print received data from server 
                                                                sqlData = JSON.parse(this.responseText);
                                                                console.log(sqlData);

                                                                var months = [];
                                                                for(var item in sqlData) {
                                                                    console.log(sqlData[item]["Month"]);
                                                                    if(!months.includes(parseMonth(sqlData[item]["Month"]))) {
                                                                        months.push(parseMonth(sqlData[item]["Month"]));
                                                                    }
                                                                }
                                                                console.log("months: " + months);
                                                                // var color = Chart.helpers.color;
                                                                var barchartData = {
                                                                    labels: months,
                                                                    datasets: [{
                                                                        label: 'Project Hours',
                                                                        backgroundColor: "rgba(255,0,0,.75)",
                                                                        borderColor: "rgba(255,0,0,.75)",
                                                                        borderWidth: 1,
                                                                        data: arrangeData(sqlData, months, 'ProjectHours')
                                                                    },
                                                                    {
                                                                        label: 'Project Income',
                                                                        backgroundColor: "rgba(0,255,0,.75)",
                                                                        borderColor: "rgba(0,255,0,.75)",
                                                                        borderWidth: 1,
                                                                        data: arrangeData(sqlData, months, 'ProjectIncome')
                                                                    },
                                                                    {
                                                                        label: 'Transfer Income',
                                                                        backgroundColor: "rgba(0,0,255,.75)",
                                                                        borderColor: "rgba(0,0,255,.75)",
                                                                        borderWidth: 1,
                                                                        data: arrangeData(sqlData, months, 'TransferIncome')
                                                                    }

                                                                    ]

                                                                };

                                                        var ctx = document.getElementById("canvas").getContext("2d");
                                                        var config = {
                                                            type: 'bar',
                                                            data: barchartData,
                                                            options: {
                                                                responsive: true,
                                                                legend: {
                                                                    position: 'top',
                                                                },
                                                                title: {
                                                                    display: true,
                                                                    text: 'EMI Office Metrics Chart'
                                                                }
                                                                // scales: {
                                                                //     xAxes: [{
                                                                //         type: "time",
                                                                //         display: true,
                                                                //         scaleLabel: {
                                                                //             display: true,
                                                                //             labelString: 'Date'
                                                                //         }
                                                                //     }],
                                                                //     yAxes: [{
                                                                //         display: true,
                                                                //         scaleLabel: {
                                                                //             display: true,
                                                                //             labelString: 'value'
                                                                //         }
                                                                //     }]
                                                                // }
                                                            }
                                                        };
                                                        window.myBar = new Chart(ctx, config);

                                                                // window.onload = function() {
                                                                    // var ctx = document.getElementById('canvas').getContext('2d');
                                                                    // window.myBar = new Chart(ctx, {
                                                                    //     type: 'bar',
                                                                    //     data: barchartData,
                                                                    //     options: {
                                                                    //         responsive: true,
                                                                    //         legend: {
                                                                    //             position: 'top',
                                                                    //         },
                                                                    //         title: {
                                                                    //             display: true,
                                                                    //             text: 'Chart.js Bar Chart'
                                                                    //         },
                                                                    //         scales: {
                                                                    //             xAxes: [{
                                                                    //                 type: "time",
                                                                    //                 display: true,
                                                                    //                 scaleLabel: {
                                                                    //                     display: true,
                                                                    //                     labelString: 'Date'
                                                                    //                 }
                                                                    //             }],
                                                                    //             yAxes: [{
                                                                    //                 display: true,
                                                                    //                 scaleLabel: {
                                                                    //                     display: true,
                                                                    //                     labelString: 'value'
                                                                    //                 }
                                                                    //             }]
                                                                    //         }
                                                                    //     }
                                                                    // });
                                                                // };

                                                                console.log(barchartData);

                                                        //         function randomScalingFactor() {
                                                        //     return Math.round(Math.random() * 100 * (Math.random() > 0.5 ? -1 : 1));
                                                        // }
                                                        // function randomColorFactor() {
                                                        //     return Math.round(Math.random() * 255);
                                                        // }
                                                        // function randomColor(opacity) {
                                                        //     return 'rgba(' + randomColorFactor() + ',' + randomColorFactor() + ',' + randomColorFactor() + ',' + (opacity || '.3') + ')';
                                                        // }
                                                        // function newDate(days) {
                                                        //     return moment().add(days, 'd').toDate();
                                                        // }
                                                        // function newDateString(days) {
                                                        //     return moment().add(days, 'd').format();
                                                        // }
                                                        // var config = {
                                                        //     type: 'line',
                                                        //     data: {
                                                        //         datasets: [{
                                                        //             label: "Dataset with string point data",
                                                        //             data: [{
                                                        //                 x: newDateString(0),
                                                        //                 y: randomScalingFactor()
                                                        //             }, {
                                                        //                 x: newDateString(2),
                                                        //                 y: randomScalingFactor()
                                                        //             }, {
                                                        //                 x: newDateString(4),
                                                        //                 y: randomScalingFactor()
                                                        //             }, {
                                                        //                 x: newDateString(5),
                                                        //                 y: randomScalingFactor()
                                                        //             }],
                                                        //             fill: false
                                                        //         }, {
                                                        //             label: "Dataset with date object point data",
                                                        //             data: [{
                                                        //                 x: newDate(0),
                                                        //                 y: randomScalingFactor()
                                                        //             }, {
                                                        //                 x: newDate(2),
                                                        //                 y: randomScalingFactor()
                                                        //             }, {
                                                        //                 x: newDate(4),
                                                        //                 y: randomScalingFactor()
                                                        //             }, {
                                                        //                 x: newDate(5),
                                                        //                 y: randomScalingFactor()
                                                        //             }],
                                                        //             fill: false
                                                        //         }]
                                                        //     },
                                                        //     options: {
                                                        //         responsive: true,
                                                        //         title:{
                                                        //             display:true,
                                                        //             text:"Chart.js Time Point Data"
                                                        //         },
                                                        //         scales: {
                                                        //             xAxes: [{
                                                        //                 type: "time",
                                                        //                 display: true,
                                                        //                 scaleLabel: {
                                                        //                     display: true,
                                                        //                     labelString: 'Date'
                                                        //                 }
                                                        //             }],
                                                        //             yAxes: [{
                                                        //                 display: true,
                                                        //                 scaleLabel: {
                                                        //                     display: true,
                                                        //                     labelString: 'value'
                                                        //                 }
                                                        //             }]
                                                        //         }
                                                        //     }
                                                        // };
                                                        // jQuery.each(config.data.datasets, function(i, dataset) {
                                                        //     dataset.borderColor = randomColor(0.4);
                                                        //     dataset.backgroundColor = randomColor(0.5);
                                                        //     dataset.pointBorderColor = randomColor(0.7);
                                                        //     dataset.pointBackgroundColor = randomColor(0.5);
                                                        //     dataset.pointBorderWidth = 1;
                                                        // });
                                                        // jQuery('#randomizeData').click(function() {
                                                        //     jQuery.each(config.data.datasets, function(i, dataset) {
                                                        //         jQuery.each(dataset.data, function(j, dataObj) {
                                                        //             dataObj.y = randomScalingFactor();
                                                        //         });
                                                        //     });
                                                        //     window.myLine.update();
                                                        // });
                                                        // jQuery('#addData').click(function() {
                                                        //     if (config.data.datasets.length > 0) {
                                                        //         var lastTime = myLine.scales['x-axis-0'].labelMoments[0].length ? myLine.scales['x-axis-0'].labelMoments[0][myLine.scales['x-axis-0'].labelMoments[0].length - 1] : moment();
                                                        //         var newTime = lastTime
                                                        //             .clone()
                                                        //             .add(1, 'day')
                                                        //             .format('MM/DD/YYYY HH:mm');
                                                        //         for (var index = 0; index < config.data.datasets.length; ++index) {
                                                        //             config.data.datasets[index].data.push({
                                                        //                 x: newTime,
                                                        //                 y: randomScalingFactor()
                                                        //             });
                                                        //         }
                                                        //         window.myLine.update();
                                                        //     }
                                                        // });
                                                        // jQuery('#removeData').click(function() {
                                                        //     config.data.datasets.forEach(function(dataset, datasetIndex) {
                                                        //         dataset.data.pop();
                                                        //     });
                                                        //     window.myLine.update();
                                                        // });
                                                        // var ctx = document.getElementById("canvas").getContext("2d");
                                                        // window.myLine = new Chart(ctx, config);
                                                    
                                                                

                                                            } 
                                                        };
                                                    };
                                                </script></p>
                                                <p>
    </p>
    </div>
    </div>
    </div>
    </div>
    <div class="boldgrid-section">
    <div class="container">
    <div class="row">
    <div class="col-md-12 col-xs-12 col-sm-12"></div>
    </div>
    </div>
    </div>
    </div>
    </article>
    </div>
    </main>
    <!-- Main HTML end -->
    </div><!-- #content -->
    <footer id="colophon" class="site-footer">
    <div class="site-footer-inner">
    </div><!-- .site-footer-inner -->
    </footer><!-- #colophon -->
    <div class="site-info-wrapper">
    <div class="site-info">
    <div class="site-info-inner">
    <div class="site-info-text">
    Copyright &copy; 2020 EMI &mdash; Ascension WordPress theme by <a href="https://www.godaddy.com/" rel="author nofollow">GoDaddy</a>
    </div>
    </div><!-- .site-info-inner -->
    </div><!-- .site-info -->
    </div><!-- .site-info-wrapper -->
    </div><!-- #page -->
    <!-- Popup form start -->
    <div id="pum-138" class="pum pum-overlay pum-theme-71 pum-theme-default-theme popmake-overlay click_open" data-popmake="{&quot;id&quot;:138,&quot;slug&quot;:&quot;upload-js-data&quot;,&quot;theme_id&quot;:71,&quot;cookies&quot;:[],&quot;triggers&quot;:[{&quot;type&quot;:&quot;click_open&quot;,&quot;settings&quot;:{&quot;cookie_name&quot;:&quot;&quot;,&quot;extra_selectors&quot;:&quot;.w3-button&quot;}}],&quot;mobile_disabled&quot;:null,&quot;tablet_disabled&quot;:null,&quot;meta&quot;:{&quot;display&quot;:{&quot;stackable&quot;:false,&quot;overlay_disabled&quot;:false,&quot;scrollable_content&quot;:false,&quot;disable_reposition&quot;:false,&quot;size&quot;:&quot;medium&quot;,&quot;responsive_min_width&quot;:&quot;0%&quot;,&quot;responsive_min_width_unit&quot;:false,&quot;responsive_max_width&quot;:&quot;100%&quot;,&quot;responsive_max_width_unit&quot;:false,&quot;custom_width&quot;:&quot;640px&quot;,&quot;custom_width_unit&quot;:false,&quot;custom_height&quot;:&quot;380px&quot;,&quot;custom_height_unit&quot;:false,&quot;custom_height_auto&quot;:false,&quot;location&quot;:&quot;center top&quot;,&quot;position_from_trigger&quot;:false,&quot;position_top&quot;:&quot;100&quot;,&quot;position_left&quot;:&quot;0&quot;,&quot;position_bottom&quot;:&quot;0&quot;,&quot;position_right&quot;:&quot;0&quot;,&quot;position_fixed&quot;:false,&quot;animation_type&quot;:&quot;fade&quot;,&quot;animation_speed&quot;:&quot;350&quot;,&quot;animation_origin&quot;:&quot;center top&quot;,&quot;overlay_zindex&quot;:false,&quot;zindex&quot;:&quot;1999999999&quot;},&quot;close&quot;:{&quot;text&quot;:&quot;&quot;,&quot;button_delay&quot;:&quot;0&quot;,&quot;overlay_click&quot;:false,&quot;esc_press&quot;:false,&quot;f4_press&quot;:false},&quot;click_open&quot;:[]}}" role="dialog" aria-hidden="true" aria-labelledby="pum_popup_title_138">
    <div id="popmake-138" class="pum-container popmake theme-71 pum-responsive pum-responsive-medium responsive size-medium">
    <div id="pum_popup_title_138" class="pum-title popmake-title">
    Upload Data			</div>
    <div class="pum-content popmake-content">
    <p><script>
        function formSubmitted(form) {
        console.log("form submitted!")
        console.log(document.testform.inputbox.value)
        // Creating a XHR object 
        let xhr = new XMLHttpRequest(); 
        let url = "submit.php"
        // open a connection 
        xhr.open("POST", url, true); 
        // Set the request header i.e. which type of content you are sending 
        xhr.setRequestHeader("Content-Type", "application/json"); 
        // Create a state change callback 
        xhr.onreadystatechange = function () { 
            if ((xhr.readyState === 4) && (xhr.status === 200)) { 
                // Print received data from server 
                console.log(this.responseText);
            } 
        };
        // Converting JSON data to string
        var data = JSON.stringify({ "month": document.testform.month.value, "staffName": document.testform.month.value });
        xhr.send(data);
        return true;
        }
    </script><br />
    <body></body></p>
    <form NAME="testform" onSubmit="return formSubmitted(this.form)">
    <b>What month are you submitting this for?</b><br />
    <select NAME="month"><br />
    <option>This month<br />
    </option><option>Last month<br />
    </option><option>Two months ago<br />
    </option></select><br />
    <b>Staff:</b><br />
    <input TYPE="text" NAME="inputbox" VALUE=""/><p><br />
    <input TYPE="submit"/><br /><br />
    <!-- Popup form end -->
    </p></form>
    </div>
    <button type="button" class="pum-close popmake-close" aria-label="Close"> Close without submitting </button>
    </div>
    </div>
    <link rel='stylesheet' id='frontend-uploader-css'  href='http://www.emiofficemetric.work/wp-content/plugins/frontend-uploader/lib/css/frontend-uploader.css?ver=5.4.1' type='text/css' media='all' />
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/hoverintent-js.min.js?ver=2.2.1'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/admin-bar.min.js?ver=5.4.1'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/imagesloaded.min.js?ver=3.2.0'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/masonry.min.js?ver=3.3.2'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/jquery/jquery.masonry.min.js?ver=3.1.2b'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-content/themes/primer/assets/js/navigation.min.js?ver=1.8.8'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/jquery/ui/core.min.js?ver=1.11.4'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/jquery/ui/position.min.js?ver=1.11.4'></script>
    <script type='text/javascript'>
        /* <![CDATA[ */
        var pum_vars = {"version":"1.9.2","ajaxurl":"http:\/\/www.emiofficemetric.work\/wp-admin\/admin-ajax.php","restapi":"http:\/\/www.emiofficemetric.work\/wp-json\/pum\/v1","rest_nonce":"b8788124db","default_theme":"71","debug_mode":"","disable_tracking":"","home_url":"\/","message_position":"top","core_sub_forms_enabled":"1","popups":[]};
        var ajaxurl = "http:\/\/www.emiofficemetric.work\/wp-admin\/admin-ajax.php";
        var pum_sub_vars = {"ajaxurl":"http:\/\/www.emiofficemetric.work\/wp-admin\/admin-ajax.php","message_position":"top"};
        var pum_popups = {"pum-138":{"disable_on_mobile":false,"disable_on_tablet":false,"custom_height_auto":false,"scrollable_content":false,"position_from_trigger":false,"position_fixed":false,"overlay_disabled":false,"stackable":false,"disable_reposition":false,"close_on_form_submission":false,"close_on_overlay_click":false,"close_on_esc_press":false,"close_on_f4_press":false,"disable_form_reopen":false,"disable_accessibility":false,"triggers":[{"type":"click_open","settings":{"cookie_name":"","extra_selectors":".w3-button"}}],"theme_id":"71","size":"medium","responsive_min_width":"0%","responsive_max_width":"100%","custom_width":"640px","custom_height":"380px","animation_type":"fade","animation_speed":"350","animation_origin":"center top","location":"center top","position_top":"100","position_bottom":"0","position_left":"0","position_right":"0","zindex":"1999999999","close_button_delay":"0","close_on_form_submission_delay":"0","cookies":[],"theme_slug":"default-theme","id":138,"slug":"upload-js-data"},"pum-77":{"disable_on_mobile":false,"disable_on_tablet":false,"custom_height_auto":false,"scrollable_content":false,"position_from_trigger":false,"position_fixed":false,"overlay_disabled":false,"stackable":false,"disable_reposition":false,"close_on_form_submission":true,"close_on_overlay_click":false,"close_on_esc_press":false,"close_on_f4_press":false,"disable_form_reopen":false,"disable_accessibility":false,"theme_id":"71","size":"medium","responsive_min_width":"0%","responsive_max_width":"100%","custom_width":"640px","custom_height":"380px","animation_type":"fade","animation_speed":"350","animation_origin":"center top","location":"center top","position_top":"100","position_bottom":"0","position_left":"0","position_right":"0","zindex":"1999999999","close_button_delay":"0","close_on_form_submission_delay":"0","triggers":[],"cookies":[],"theme_slug":"default-theme","id":77,"slug":"upload-data"}};
        /* ]]> */
    </script>
    <script type='text/javascript' src='//www.emiofficemetric.work/wp-content/uploads/pum/pum-site-scripts.js?defer&#038;generated=1589283091&#038;ver=1.9.2'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-content/plugins/post-and-page-builder/assets/js/jquery-stellar/jquery.stellar.js?ver=1.13.0'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-content/plugins/post-and-page-builder/assets/dist/public.min.js?ver=1.13.0'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-content/plugins/post-and-page-builder-premium/dist/application.min.js?ver=1.0.4'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/wp-embed.min.js?ver=5.4.1'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-includes/js/underscore.min.js?ver=1.8.3'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-content/plugins/frontend-uploader/lib/js/validate/jquery.validate.min.js?ver=5.4.1'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-content/plugins/frontend-uploader/lib/js/validate/additional-methods.min.js?ver=5.4.1'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-content/plugins/frontend-uploader/lib/js/underscore.string.min.js?ver=5.4.1'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-content/plugins/frontend-uploader/lib/js/frontend-uploader.js?ver=5.4.1'></script>
    <script type='text/javascript' src='http://www.emiofficemetric.work/wp-content/plugins/blazing-charts/js/chartjs/Chart.bundle.min.js?ver=1.0'></script>
    <script>
        /* IE11 skip link focus fix */
        /(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);
    </script>
    <style id="pum-admin-bar-styles">
        /* Layer admin bar over popups. */
        #wpadminbar {
        z-index: 999999999999;
        }
        #wp-admin-bar-popup-maker > .ab-item::before {
        background: url("http://www.emiofficemetric.work/wp-content/plugins/popup-maker//assets/images/admin/icon-info-21x21.png") center center no-repeat transparent !important;
        top: 3px;
        content: "";
        width: 20px;
        height: 20px;
        }
        #wp-admin-bar-popup-maker:hover > .ab-item::before {
        background-image: url("http://www.emiofficemetric.work/wp-content/plugins/popup-maker//assets/images/admin/icon-info-21x21.png") !important;
        }
    </style>
    <script id="pum-admin-bar-tools" type="text/javascript">
        /**
         * CssSelectorGenerator
         */
        (function () {
            var CssSelectorGenerator, root,
                indexOf = [].indexOf || function (item) {
                    for (var i = 0, l = this.length; i < l; i++) {
                        if (i in this && this[i] === item) return i;
                    }
                    return -1;
                };
        
            CssSelectorGenerator = (function () {
                CssSelectorGenerator.prototype.default_options = {
                    selectors: ['id', 'class', 'tag', 'nthchild']
                };
        
                function CssSelectorGenerator(options) {
                    if (options == null) {
                        options = {};
                    }
                    this.options = {};
                    this.setOptions(this.default_options);
                    this.setOptions(options);
                }
        
                CssSelectorGenerator.prototype.setOptions = function (options) {
                    var key, results, val;
                    if (options == null) {
                        options = {};
                    }
                    results = [];
                    for (key in options) {
                        val = options[key];
                        if (this.default_options.hasOwnProperty(key)) {
                            results.push(this.options[key] = val);
                        } else {
                            results.push(void 0);
                        }
                    }
                    return results;
                };
        
                CssSelectorGenerator.prototype.isElement = function (element) {
                    return !!((element != null ? element.nodeType : void 0) === 1);
                };
        
                CssSelectorGenerator.prototype.getParents = function (element) {
                    var current_element, result;
                    result = [];
                    if (this.isElement(element)) {
                        current_element = element;
                        while (this.isElement(current_element)) {
                            result.push(current_element);
                            current_element = current_element.parentNode;
                        }
                    }
                    return result;
                };
        
                CssSelectorGenerator.prototype.getTagSelector = function (element) {
                    return this.sanitizeItem(element.tagName.toLowerCase());
                };
        
                CssSelectorGenerator.prototype.sanitizeItem = function (item) {
                    var characters;
                    characters = (item.split('')).map(function (character) {
                        if (character === ':') {
                            return "\\" + (':'.charCodeAt(0).toString(16).toUpperCase()) + " ";
                        } else if (/[ !"#$%&'()*+,.\/;<=>?@\[\\\]^`{|}~]/.test(character)) {
                            return "\\" + character;
                        } else {
                            return escape(character).replace(/\%/g, '\\');
                        }
                    });
                    return characters.join('');
                };
        
                CssSelectorGenerator.prototype.getIdSelector = function (element) {
                    var id, sanitized_id;
                    id = element.getAttribute('id');
                    if ((id != null) && (id !== '') && !(/\s/.exec(id)) && !(/^\d/.exec(id))) {
                        sanitized_id = "#" + (this.sanitizeItem(id));
                        if (element.ownerDocument.querySelectorAll(sanitized_id).length === 1) {
                            return sanitized_id;
                        }
                    }
                    return null;
                };
        
                CssSelectorGenerator.prototype.getClassSelectors = function (element) {
                    var class_string, item, result;
                    result = [];
                    class_string = element.getAttribute('class');
                    if (class_string != null) {
                        class_string = class_string.replace(/\s+/g, ' ');
                        class_string = class_string.replace(/^\s|\s$/g, '');
                        if (class_string !== '') {
                            result = (function () {
                                var k, len, ref, results;
                                ref = class_string.split(/\s+/);
                                results = [];
                                for (k = 0, len = ref.length; k < len; k++) {
                                    item = ref[k];
                                    results.push("." + (this.sanitizeItem(item)));
                                }
                                return results;
                            }).call(this);
                        }
                    }
                    return result;
                };
        
                CssSelectorGenerator.prototype.getAttributeSelectors = function (element) {
                    var attribute, blacklist, k, len, ref, ref1, result;
                    result = [];
                    blacklist = ['id', 'class'];
                    ref = element.attributes;
                    for (k = 0, len = ref.length; k < len; k++) {
                        attribute = ref[k];
                        if (ref1 = attribute.nodeName, indexOf.call(blacklist, ref1) < 0) {
                            result.push("[" + attribute.nodeName + "=" + attribute.nodeValue + "]");
                        }
                    }
                    return result;
                };
        
                CssSelectorGenerator.prototype.getNthChildSelector = function (element) {
                    var counter, k, len, parent_element, sibling, siblings;
                    parent_element = element.parentNode;
                    if (parent_element != null) {
                        counter = 0;
                        siblings = parent_element.childNodes;
                        for (k = 0, len = siblings.length; k < len; k++) {
                            sibling = siblings[k];
                            if (this.isElement(sibling)) {
                                counter++;
                                if (sibling === element) {
                                    return ":nth-child(" + counter + ")";
                                }
                            }
                        }
                    }
                    return null;
                };
        
                CssSelectorGenerator.prototype.testSelector = function (element, selector) {
                    var is_unique, result;
                    is_unique = false;
                    if ((selector != null) && selector !== '') {
                        result = element.ownerDocument.querySelectorAll(selector);
                        if (result.length === 1 && result[0] === element) {
                            is_unique = true;
                        }
                    }
                    return is_unique;
                };
        
                CssSelectorGenerator.prototype.getAllSelectors = function (element) {
                    var result;
                    result = {
                        t: null,
                        i: null,
                        c: null,
                        a: null,
                        n: null
                    };
                    if (indexOf.call(this.options.selectors, 'tag') >= 0) {
                        result.t = this.getTagSelector(element);
                    }
                    if (indexOf.call(this.options.selectors, 'id') >= 0) {
                        result.i = this.getIdSelector(element);
                    }
                    if (indexOf.call(this.options.selectors, 'class') >= 0) {
                        result.c = this.getClassSelectors(element);
                    }
                    if (indexOf.call(this.options.selectors, 'attribute') >= 0) {
                        result.a = this.getAttributeSelectors(element);
                    }
                    if (indexOf.call(this.options.selectors, 'nthchild') >= 0) {
                        result.n = this.getNthChildSelector(element);
                    }
                    return result;
                };
        
                CssSelectorGenerator.prototype.testUniqueness = function (element, selector) {
                    var found_elements, parent;
                    parent = element.parentNode;
                    found_elements = parent.querySelectorAll(selector);
                    return found_elements.length === 1 && found_elements[0] === element;
                };
        
                CssSelectorGenerator.prototype.testCombinations = function (element, items, tag) {
                    var item, k, l, len, len1, ref, ref1;
                    ref = this.getCombinations(items);
                    for (k = 0, len = ref.length; k < len; k++) {
                        item = ref[k];
                        if (this.testUniqueness(element, item)) {
                            return item;
                        }
                    }
                    if (tag != null) {
                        ref1 = items.map(function (item) {
                            return tag + item;
                        });
                        for (l = 0, len1 = ref1.length; l < len1; l++) {
                            item = ref1[l];
                            if (this.testUniqueness(element, item)) {
                                return item;
                            }
                        }
                    }
                    return null;
                };
        
                CssSelectorGenerator.prototype.getUniqueSelector = function (element) {
                    var found_selector, k, len, ref, selector_type, selectors;
                    selectors = this.getAllSelectors(element);
                    ref = this.options.selectors;
                    for (k = 0, len = ref.length; k < len; k++) {
                        selector_type = ref[k];
                        switch (selector_type) {
                        case 'id':
                            if (selectors.i != null) {
                                return selectors.i;
                            }
                            break;
                        case 'tag':
                            if (selectors.t != null) {
                                if (this.testUniqueness(element, selectors.t)) {
                                    return selectors.t;
                                }
                            }
                            break;
                        case 'class':
                            if ((selectors.c != null) && selectors.c.length !== 0) {
                                found_selector = this.testCombinations(element, selectors.c, selectors.t);
                                if (found_selector) {
                                    return found_selector;
                                }
                            }
                            break;
                        case 'attribute':
                            if ((selectors.a != null) && selectors.a.length !== 0) {
                                found_selector = this.testCombinations(element, selectors.a, selectors.t);
                                if (found_selector) {
                                    return found_selector;
                                }
                            }
                            break;
                        case 'nthchild':
                            if (selectors.n != null) {
                                return selectors.n;
                            }
                        }
                    }
                    return '*';
                };
        
                CssSelectorGenerator.prototype.getSelector = function (element) {
                    var all_selectors, item, k, l, len, len1, parents, result, selector, selectors;
                    all_selectors = [];
                    parents = this.getParents(element);
                    for (k = 0, len = parents.length; k < len; k++) {
                        item = parents[k];
                        selector = this.getUniqueSelector(item);
                        if (selector != null) {
                            all_selectors.push(selector);
                        }
                    }
                    selectors = [];
                    for (l = 0, len1 = all_selectors.length; l < len1; l++) {
                        item = all_selectors[l];
                        selectors.unshift(item);
                        result = selectors.join(' > ');
                        if (this.testSelector(element, result)) {
                            return result;
                        }
                    }
                    return null;
                };
        
                CssSelectorGenerator.prototype.getCombinations = function (items) {
                    var i, j, k, l, ref, ref1, result;
                    if (items == null) {
                        items = [];
                    }
                    result = [[]];
                    for (i = k = 0, ref = items.length - 1; 0 <= ref ? k <= ref : k >= ref; i = 0 <= ref ? ++k : --k) {
                        for (j = l = 0, ref1 = result.length - 1; 0 <= ref1 ? l <= ref1 : l >= ref1; j = 0 <= ref1 ? ++l : --l) {
                            result.push(result[j].concat(items[i]));
                        }
                    }
                    result.shift();
                    result = result.sort(function (a, b) {
                        return a.length - b.length;
                    });
                    result = result.map(function (item) {
                        return item.join('');
                    });
                    return result;
                };
        
                return CssSelectorGenerator;
        
            })();
        
            if (typeof define !== "undefined" && define !== null ? define.amd : void 0) {
                define([], function () {
                    return CssSelectorGenerator;
                });
            } else {
                root = typeof exports !== "undefined" && exports !== null ? exports : this;
                root.CssSelectorGenerator = CssSelectorGenerator;
            }
        
        }).call(this);
        
        (function ($) {
            var selector_generator = new CssSelectorGenerator;
        
            $(document).on('click', '#wp-admin-bar-pum-get-selector', function (event) {
        
                alert("After clicking ok, click the element you want a selector for.");
        
                event.preventDefault();
                event.stopPropagation();
        
                $(document).one('click', function (event) {
                    // get reference to the element user clicked on
                    var element = event.target,
                        // get unique CSS selector for that element
                        selector = selector_generator.getSelector(element);
        
                    alert("Selector: " + selector);
        
                    event.preventDefault();
                    event.stopPropagation();
                });
            });
        }(jQuery));
    </script>	<!--[if lte IE 8]>
    <script type="text/javascript">
        document.body.className = document.body.className.replace( /(^|\s)(no-)?customize-support(?=\s|$)/, '' ) + ' no-customize-support';
    </script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
    <script type="text/javascript">
        (function() {
        	var request, b = document.body, c = 'className', cs = 'customize-support', rcs = new RegExp('(^|\\s+)(no-)?'+cs+'(\\s+|$)');
        
        			request = true;
        
        	b[c] = b[c].replace( rcs, ' ' );
        	// The customizer requires postMessage and CORS (if the site is cross domain).
        	b[c] += ( window.postMessage && request ? ' ' : ' no-' ) + cs;
        }());
    </script>
    <!--<![endif]-->
    </body>
</html>
